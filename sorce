-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")

-- Player and Character Variables
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- Customizable Options
local noclipEnabled = false
local flyEnabled = false
local flySpeed = 50
local speedEnabled = false
local walkSpeed = 16
local aimbotEnabled = false
local ammoEnabled = false
local antiKickEnabled = true

-- Create GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CheatMenu"
screenGui.Parent = player.PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.3, 0, 0.5, 0)
frame.Position = UDim2.new(0.1, 0, 0.25, 0)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0.5
frame.Parent = screenGui

local function createButton(name, position, toggleFunction)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0.1, 0)
    button.Position = position
    button.Text = name
    button.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    button.TextColor3 = Color3.fromRGB(0, 0, 0)
    button.Parent = frame

    button.MouseButton1Click:Connect(function()
        toggleFunction()
    end)
end

createButton("Toggle Noclip", UDim2.new(0, 0, 0, 0), function()
    noclipEnabled = not noclipEnabled
    toggleNoclip(noclipEnabled)
end)

createButton("Toggle Fly", UDim2.new(0, 0, 0.1, 0), function()
    flyEnabled = not flyEnabled
    toggleFly(flyEnabled)
end)

createButton("Toggle Speed", UDim2.new(0, 0, 0.2, 0), function()
    speedEnabled = not speedEnabled
    adjustSpeed(speedEnabled, walkSpeed)
end)

createButton("Toggle Aimbot", UDim2.new(0, 0, 0.3, 0), function()
    aimbotEnabled = not aimbotEnabled
    toggleAimbot(aimbotEnabled)
end)

createButton("Toggle Ammo", UDim2.new(0, 0, 0.4, 0), function()
    ammoEnabled = not ammoEnabled
    toggleAmmo(ammoEnabled)
end)

createButton("Toggle Anti-Kick", UDim2.new(0, 0, 0.5, 0), function()
    antiKickEnabled = not antiKickEnabled
    setupAntiKick(antiKickEnabled)
end)

-- Cheat Functions
local function toggleNoclip(enabled)
    local char = player.Character
    if char then
        for _, part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = not enabled
            end
        end
    end
end

local function toggleFly(enabled)
    if enabled then
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
        bodyVelocity.Parent = humanoidRootPart

        RunService.RenderStepped:Connect(function()
            if flyEnabled then
                bodyVelocity.Velocity = (UserInputService:GetMouseDelta() * flySpeed) + Vector3.new(0, 50, 0)
            end
        end)
    else
        local bodyVelocity = humanoidRootPart:FindFirstChildOfClass("BodyVelocity")
        if bodyVelocity then
            bodyVelocity:Destroy()
        end
    end
end

local function adjustSpeed(enabled, speed)
    if enabled then
        humanoid.WalkSpeed = speed
    else
        humanoid.WalkSpeed = 16
    end
end

local function toggleAimbot(enabled)
    if enabled then
        RunService.RenderStepped:Connect(function()
            if aimbotEnabled then
                local mouse = player:GetMouse()
                -- Aim at target logic here
            end
        end)
    end
end

local function toggleAmmo(enabled)
    if enabled then
        print("Ammo management enabled")
    end
end

local function setupAntiKick(enabled)
    if enabled then
        local player = Players.LocalPlayer
        local function onPlayerChatted(message)
            if message:lower() == "kick" then
                print("Attempted kick detected")
            end
        end
        player.Chatted:Connect(onPlayerChatted)
    end
end
